#: import math math
<CalcButton@Button>:
    #Custom Button Design 1
    font_size: 70
    background_down: "res/blue_button_back.png"
    background_normal: "res/blue_button_back.png"
    font_name: "res/font_roboto_thin.ttf"
<CalcButton2@Button>:
    #Custom Button Design 2
    font_size: 70
    background_down: "res/pink_button_back.png"
    background_normal: "res/pink_button_back.png"
    font_name: "res/font_roboto_thin.ttf"
<CalcButton3@Button>:
    #Custom Button Design 3
    font_size: 70
    background_down: "res/pink_button_back_5row.png"
    background_normal: "res/pink_button_back_5row.png"
    font_name: "res/font_roboto_thin.ttf"
<CalcLayout>:
    #Main App Layout
    id: cal
    ModalView:
        id: pop
        background: "res/white_back.png"
        size_hint_y: 0.318
        separator_height: 0
        pos_hint: {'right': 1, 'top': 0.3}
        BoxLayout:
            orientation: "vertical"
            Label:
                size_hint_y:0.3
            Label:
                text: "App Made By -Jack Using [u][color=5194FF][ref=http://Kivy.org]Kivy[/ref][/color][/u]"
                font_size: cal.width*0.07
                font_name: "res/font_roboto_thin.ttf"
                color: 116/255.0,116/255.0,116/255.0,1
                markup: True
                on_ref_press: cal.internetActivity("https://kivy.org")
            Button:
                text: "[u]Source Code - GitHub[/u]"
                font_size: cal.width*0.07
                font_name: "res/font_roboto_thin.ttf"
                markup: True
                color: 81/255.0,148/255.0,1,1
                background_normal: ""
                background_color: 1,1,1,1
                on_release: cal.internetActivity("https://github.com/Jack839/Calculator-App")
    BoxLayout:
        padding: 0,10,0,0
        pos_hint: {'top': 1}
        size_hint_y: 0.07
        Button:
            text: " Info"
            font_name: "res/font_roboto_thin.ttf"
            color: 116/255.0,116/255.0,116/255.0,1
            font_size: 50
            background_normal: ""
            background_down: ""
            background_color: 1,1,1,1
            size_hint_x: 0.1
            on_release: pop.open(self)
        Label:
            size_hint_x: 0.7
    PageLayout:
        border: "30dp"
        swipe_threshold: 0.000001
        GridLayout:
            rows: 2
            BoxLayout:
                pos_hint: {"top":1}
                size_hint_y:0.606
                padding: ["20dp","40dp",0,0]
                ScrollView:
                    bar_color: 1,1,1,0
                    scroll_distance: "50dp"
                    scroll_x: 0.5
                    pos_hint: {'center_x':.5, 'center_y':.5}
                    do_scroll_y: False
                    Label:
                        id: input_data
                        font_name: "res/font_roboto_thin.ttf"
                        text: cal.data_text
                        color: 116/255.0,116/255.0,116/255.0,1
                        font_size: 120
                        size_hint_x: None
                        width: 1300
                        size_hint_min_x: self.width
            GridLayout:
                cols: 2
                GridLayout:
                    rows: 5
                    BoxLayout:
                        size_hint_y: 0.5
                        CalcButton:
                            text: "7"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "8"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "9"
                            on_release: cal.valEnter(self.text)
                    BoxLayout:
                        size_hint_y: 0.5
                        CalcButton:
                            text: "4"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "5"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "6"
                            on_release: cal.valEnter(self.text)
                    BoxLayout:
                        size_hint_y: 0.5
                        CalcButton:
                            text: "1"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "2"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "3"
                            on_release: cal.valEnter(self.text)
                    BoxLayout:
                        size_hint_y: 0.5
                        CalcButton:
                            text: "."
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "0"
                            on_release: cal.valEnter(self.text)
                        CalcButton:
                            text: "="
                            on_release: cal.calc(input_data.text)
                BoxLayout:
                    orientation: "vertical"
                    size_hint_y: 0.5
                    size_hint_x:0.25
                    CalcButton3:
                        text: "DEL"
                        on_press: cal.onLongPressCheck("")
                        on_release: cal.onLongPressCheck(" ")
                    CalcButton3:
                        text: "+"
                        on_release: cal.valEnter(self.text)
                    CalcButton3:
                        text: "-"
                        on_release: cal.valEnter(self.text)
                    CalcButton3:
                        text: "*"
                        on_release: cal.valEnter(self.text)
                    CalcButton3:
                        text: "/"
                        on_release: cal.valEnter(self.text)
        GridLayout:
            size_hint_y: 0.9
            rows: 5
            AnchorLayout:
                anchor_y: "top"
                anchor_x: "right"
            BoxLayout:
                size_hint_y: 0.4125
                CalcButton2:
                    text: "    sin"
                    on_release: cal.valEnter(self.text[4:]+"(")
                CalcButton2:
                    text: "    cos"
                    on_release: cal.valEnter(self.text[4:]+"(")
                CalcButton2:
                    text: "    tan"
                    on_release: cal.valEnter(self.text[4:]+"(")
            BoxLayout:
                size_hint_y: 0.4125
                CalcButton2:
                    text: "    ln"
                    on_release: cal.valEnter(self.text[4:]+"(")
                CalcButton2:
                    text: "    log"
                    on_release: cal.valEnter(self.text[4:]+"(")
                CalcButton2:
                    text: "    !"
                    on_release: cal.valEnter(self.text[4:])
            BoxLayout:
                size_hint_y: 0.4125
                CalcButton2:
                    text: "    Ï€"
                    on_release: cal.valEnter(str(math.pi))
                CalcButton2:
                    text: "    e"
                    on_release: cal.valEnter(str(math.exp(1)))
                CalcButton2:
                    text: "    ^"
                    on_release: cal.valEnter("**")
            BoxLayout:
                size_hint_y: 0.4125
                CalcButton2:
                    text: "    ("
                    on_release: cal.valEnter(self.text[4:])
                CalcButton2:
                    text: "    )"
                    on_release: cal.valEnter(self.text[4:])
                CalcButton2:
                    text: "    %"
                    on_release: cal.valEnter(self.text[4:])
    ModalView:
        id: updatePop
        background: "res/white_back.png"
        size_hint_y: 0.4
        separator_height: 0
        pos_hint: {'right': 1, 'top': 0.4}
        on_dismiss: cal.remove_widget(updatePop)
        BoxLayout:
            orientation: "vertical"
            Label:
                id: updateTitle
                text: cal.title_text
                font_size: cal.width*0.05
                size_hint_y:0.3
                color: 116/255.0,116/255.0,116/255.0,1
            ScrollView:
                Label:
                    id: updateText
                    text: cal.update_text
                    font_size: cal.width*0.04
                    #font_name: "res/font_roboto_thin.ttf"
                    color: 116/255.0,116/255.0,116/255.0,1
                    padding_x: "30dp"
                    markup: True
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    on_ref_press: cal.internetActivity("https://drive.google.com/open?id=0Bzs0vaxTnYwEMml1Rm9DeVY5ZVk")


